# TubeSnap

一款现代化的 YouTube 视频截图 Chrome 扩展，一键截取高清视频画面。

![版本](https://img.shields.io/badge/version-1.0.0-blue)
![许可证](https://img.shields.io/badge/license-MIT-green)

## 特性

- 📸 **一键截图** - 在 YouTube 播放器控制栏添加截图按钮
- ⌨️ **快捷键支持** - `Alt + S` 快速截图
- 💾 **多种保存方式** - 支持保存到本地、复制到剪贴板、或预览后操作
- 🎨 **时间戳水印** - 可选在截图上添加视频时间戳
- ⚡ **倍速按钮** - 快速切换 1x/1.5x/2x/2.5x/3x 播放速度
- 🔔 **截图音效** - 可选播放快门音效
- 🖼️ **多种格式** - 支持 PNG、JPEG、WebP 格式
- 🌙 **暗黑模式** - 完美适配 YouTube 的暗黑主题
- 📱 **响应式设计** - 支持桌面端、剧场模式和全屏模式

## 安装

### 方式一：Chrome 应用商店 (推荐)

(待上架)

### 方式二：开发者模式加载

1. 下载本仓库并解压
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展程序」
5. 选择解压后的文件夹

## 使用方法

### 截图

- 点击播放器控制栏的 📷 图标按钮
- 或按快捷键 `Alt + S` (Mac: `⌘ + Shift + S`)

### 切换播放速度

使用快捷键快速切换：
- `Q` - 1× 速度
- `S` - 1.5× 速度
- `W` - 2× 速度
- `E` - 2.5× 速度
- `R` - 3× 速度

## 设置选项

右键点击扩展图标 → 「选项」打开设置页面：

| 设置项 | 说明 |
|--------|------|
| 截图操作 | 选择截图后的行为：保存文件 / 复制剪贴板 / 两者都做 / 预览窗口 |
| 图片格式 | PNG (无损) / JPEG (压缩) / WebP (现代格式) |
| 图片质量 | JPEG/WebP 的压缩质量 (50-100%) |
| 时间戳水印 | 在截图上添加视频时间戳 |
| 水印位置 | 选择水印显示的位置 |
| 倍速按钮 | 在控制栏显示倍速切换按钮 |
| 截图音效 | 截图时播放快门音效 |

## 技术改进

与原 Screenshot-YouTube 相比，本插件做了以下改进：

### 修复问题
- ✅ 更新了 YouTube 最新的 DOM 选择器，适配 2024-2025 界面
- ✅ 使用相机图标替代文字按钮，更美观
- ✅ 修复了倍速按钮状态同步问题
- ✅ 添加了防抖和错误处理

### 新增功能
- ✅ 时间戳水印（可选）
- ✅ 预览窗口模式
- ✅ 截图音效反馈
- ✅ 通知提示
- ✅ 闪光效果
- ✅ 更好的移动端适配
- ✅ 剧场/全屏模式适配

### 代码质量
- ✅ 使用现代 ES6+ 语法
- ✅ 模块化的代码结构
- ✅ 完善的注释和文档
- ✅ 更好的错误处理

## 文件结构

```
yubesnap/screenshot/
├── manifest.json      # 扩展配置
├── background.js      # 后台脚本
├── content.js         # 内容脚本 (主要功能)
├── content.css        # 样式
├── options.html       # 设置页面
├── options.js         # 设置逻辑
├── popup.html         # 弹窗页面
├── popup.js           # 弹窗逻辑
├── icons/             # 图标文件
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
└── sounds/            # 音效文件
    └── shutter.mp3
```

## 兼容性

- Chrome 88+ (Manifest V3)
- Edge 88+
- 其他 Chromium 内核浏览器

## 隐私声明

- 本插件仅在 `youtube.com` 域名下运行
- 不收集任何用户数据
- 不发送任何网络请求
- 所有截图操作均在本地完成

## 致谢

灵感来源于 [Screenshot-YouTube](https://github.com/FutureMillennium/Screenshot-YouTube) by Zdeněk Gromnica

## 许可证

MIT License

---

由 Z.D.F 开发
